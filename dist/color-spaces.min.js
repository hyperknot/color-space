(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.colorSpace=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";var rgb=require("./rgb");var cmy=module.exports={name:"cmy",min:[0,0,0],max:[100,100,100],channel:["cyan","magenta","yellow"],alias:["CMY"]};cmy.rgb=function(cmy){var c=cmy[0]/100,m=cmy[1]/100,y=cmy[2]/100;return[(1-c)*255,(1-m)*255,(1-y)*255]};rgb.cmy=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return[(1-r)*100||0,(1-g)*100||0,(1-b)*100||0]}},{"./rgb":26}],2:[function(require,module,exports){"use strict";var rgb=require("./rgb");module.exports={name:"cmyk",min:[0,0,0,0],max:[100,100,100,100],channel:["cyan","magenta","yellow","black"],alias:["CMYK"],rgb:function(cmyk){var c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100,r,g,b;r=1-Math.min(1,c*(1-k)+k);g=1-Math.min(1,m*(1-k)+k);b=1-Math.min(1,y*(1-k)+k);return[r*255,g*255,b*255]}};rgb.cmyk=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,c,m,y,k;k=Math.min(1-r,1-g,1-b);c=(1-r-k)/(1-k)||0;m=(1-g-k)/(1-k)||0;y=(1-b-k)/(1-k)||0;return[c*100,m*100,y*100,k*100]}},{"./rgb":26}],3:[function(require,module,exports){"use strict";var xyy=require("./xyy");var xyz=require("./xyz");var coloroid={name:"coloroid",alias:["ATV"],channel:["A","T","V"],min:[10,0,0],max:[76,100,100]};coloroid.table=[[10,59,1.724349,.44987,.53641],[11,55.3,1.740844,.46248,.52444],[12,51.7,1.754985,.47451,.51298],[13,48.2,1.767087,.48601,.50325],[14,44.8,1.775953,.49578,.49052],[15,41.5,1.785073,.5079,.43035],[16,38.2,1.791104,.51874,.46934],[20,34.9,1.794831,.5298,.45783],[21,31.5,1.798664,.54137,.44559],[22,28,1.794819,.55367,.43253],[23,24.4,1.78961,.5668,.41811],[24,20.6,1.809483,.58128,.40176],[25,16.6,1.760983,.59766,.383],[26,12.3,1.723443,.61653,.36061],[30,7.7,1.652891,.63896,.33358],[31,2.8,1.502607,.66619,.2993],[32,-2.5,1.0725,.70061,.26753],[33,-8.4,1.136637,.63925,.22631],[34,-19.8,1.232286,.53962,.19721],[35,-31.6,1.31012,.5034,.17495],[40,-43.2,1.37661,.46041,.15603],[41,-54.6,1.438692,.42386,.13846],[42,-65.8,1.501582,.38991,.12083],[43,-76.8,1.570447,.35586,.10328],[44,-86.8,1.645583,.32195,.08496],[45,-95.8,1.732083,.28657,.05155],[46,-108.4,1.915753,.22202,.01771],[50,-117.2,2.14631,.15664,.05227],[51,-124.7,1.649939,.12736,.0902],[52,-131.8,1.273415,.10813,.12506],[53,-138.5,1.080809,.09414,.15741],[54,-145.1,.957076,.03249,.18958],[55,-152,.868976,.07206,.24109],[56,-163.4,.771731,.05787,.30378],[60,-177.2,.697108,.04353,.35696],[61,171.6,.655803,.03291,.41971],[62,152.4,.623958,.0224,.49954],[63,148.4,.596037,.01196,.60321],[64,136.8,.607413,.00425,.73542],[65,125.4,.659923,.01099,.83391],[66,114.2,.859517,.0805,.77474],[70,103.2,1.195683,.20259,.7046],[71,93.2,1.407534,.28807,.6523],[72,84.2,1.532829,.34422,.6193],[73,77.3,1.603792,.37838,.59533],[74,71.6,1.649448,.4029,.57716],[75,66.9,1.68108,.42141,.56222],[76,62.8,1.704979,.43647,.54895]];var table=coloroid.table;var angleTable=[].concat(table.slice(-13),table.slice(0,-13));var i="D65";var o=2;var Xn=xyz.whitepoint[o][i][0];var Yn=xyz.whitepoint[o][i][1];var Zn=xyz.whitepoint[o][i][2];var y0=Xn/(Xn+Yn+Zn);var x0=Yn/(Xn+Yn+Zn);var ew=(Xn+Yn+Zn)/100;xyy.coloroid=function(arg){var x=arg[0],y=arg[1],Y=arg[2];var V=10*Math.sqrt(Y);var angle=Math.atan2(y-y0,x-x0)*180/Math.PI;var row;var prev=angleTable.length-1;for(var i=0;i<angleTable.length;i++){if(angle>angleTable[i][1]){break}prev=i}row=Math.abs(angleTable[i+1][1]-angle)>Math.abs(angleTable[prev][1]-angle)?angleTable[i+1]:angleTable[prev];var A=row[0];var yl=row[4],el=row[2],xl=row[3];var Yl=yl*el*100;var T=100*Y*(x0*ew-x*ew)/(100*(x*el-xl*el)+Yl*(x0*ew-x*ew));return[A,T,V]};coloroid.xyy=function(arg){var A=arg[0],T=arg[1],V=arg[2];var row;for(var i=0;i<table.length;i++){if(A<=table[i][0]){row=table[i];break}}var yl=row[4],el=row[2],xl=row[3];var Y=V*V/100;var Yl=yl*el*100;var x=(100*Y*x0*ew+100*xl*el*T-Yl*T*x0*ew)/(100*T*el-Yl*T*ew+100*Y*ew);var y=(100*Y+100*T*yl*el-Yl*T)/(Y*ew*100+T*100*el-T*Yl*ew);return[x,y,Y]};xyz.coloroid=function(arg){return xyy.coloroid(xyz.xyy(arg))};coloroid.xyz=function(arg){return xyy.xyz(coloroid.xyy(arg))};module.exports=coloroid},{"./xyy":31,"./xyz":32}],4:[function(require,module,exports){"use strict";var rgb=require("./rgb");var clamp=require("mumath/clamp");var cubehelix=module.exports={name:"cubehelix",channel:["fraction"],min:[0],max:[1]};var defaults=cubehelix.defaults={start:0,rotation:.5,hue:1,gamma:1};cubehelix.rgb=function(fraction,options){options=options||{};if(fraction.length)fraction=fraction[0];var start=options.start!==undefined?options.start:defaults.start;var rotation=options.rotation!==undefined?options.rotation:defaults.rotation;var gamma=options.gamma!==undefined?options.gamma:defaults.gamma;var hue=options.hue!==undefined?options.hue:defaults.hue;var angle=2*Math.PI*(start/3+1+rotation*fraction);fraction=Math.pow(fraction,gamma);var amp=hue*fraction*(1-fraction)/2;var r=fraction+amp*(-.14861*Math.cos(angle)+1.78277*Math.sin(angle));var g=fraction+amp*(-.29227*Math.cos(angle)-.90649*Math.sin(angle));var b=fraction+amp*(+1.97294*Math.cos(angle));r=clamp(r,0,1);g=clamp(g,0,1);b=clamp(b,0,1);return[r*255,g*255,b*255]};rgb.cubehelix=function(rgb){}},{"./rgb":26,"mumath/clamp":23}],5:[function(require,module,exports){"use strict";var rgb=require("./rgb");var hsl=require("./hsl");var hsv=require("./hsv");var hwb=require("./hwb");var mod=require("mumath/mod");module.exports={name:"hcg",min:[0,0,0],max:[360,100,100],channel:["hue","chroma","gray"],alias:["HCG","HSG"],rgb:function(hcg){var h=hcg[0]/360;var c=hcg[1]/100;var g=hcg[2]/100;if(c===0){return[g*255,g*255,g*255]}var hi=mod(h,1)*6;var v=mod(hi,1);var pure=[0,0,0];var w=1-v;switch(Math.floor(hi)){case 0:pure[0]=1;pure[1]=v;pure[2]=0;break;case 1:pure[0]=w;pure[1]=1;pure[2]=0;break;case 2:pure[0]=0;pure[1]=1;pure[2]=v;break;case 3:pure[0]=0;pure[1]=w;pure[2]=1;break;case 4:pure[0]=v;pure[1]=0;pure[2]=1;break;default:pure[0]=1;pure[1]=0;pure[2]=w}var mg=(1-c)*g;var rgb=[(c*pure[0]+mg)*255,(c*pure[1]+mg)*255,(c*pure[2]+mg)*255];return rgb},hsl:function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var l=g*(1-c)+.5*c;var s=0;if(l<1&&l>0){if(l<.5){s=c/(2*l)}else{s=c/(2*(1-l))}}return[hcg[0],s*100,l*100]},hsv:function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var v=c+g*(1-c);var res;if(v>0){var f=c/v;res=[hcg[0],f*100,v*100]}else{res=[hcg[0],0,v*100]}return res},hwb:function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var v=c+g*(1-c);return[hcg[0],(v-c)*100,(1-v)*100]}};rgb.hcg=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var max=Math.max(Math.max(r,g),b);var min=Math.min(Math.min(r,g),b);var chroma=max-min;var grayscale;var hue;if(chroma<1){grayscale=min/(1-chroma)}else{grayscale=0}if(chroma>0){if(max===r){hue=mod((g-b)/chroma,6)}else if(max===g){hue=2+(b-r)/chroma}else{hue=4+(r-g)/chroma}hue/=6;hue=mod(hue,1)}else{hue=0}return[hue*360,chroma*100,grayscale*100]};hsl.hcg=function(hsl){var s=hsl[1]/100;var l=hsl[2]/100;var c=0;if(l<.5){c=2*s*l}else{c=2*s*(1-l)}var res;if(c<1){var f=(l-.5*c)/(1-c);res=[hsl[0],c*100,f*100]}else{res=[hsl[0],c*100,0]}return res};hsv.hcg=function(hsv){var s=hsv[1]/100;var v=hsv[2]/100;var c=s*v;var res;if(c<1){var f=(v-c)/(1-c);res=[hsv[0],c*100,f*100]}else{res=[hsv[0],c*100,0]}return res};hwb.hcg=function(hwb){var w=hwb[1]/100;var b=hwb[2]/100;var v=1-b;var c=v-w;var g=0;if(c<1){g=(v-c)/(1-c)}return[hwb[0],c*100,g*100]}},{"./hsl":9,"./hsv":12,"./hwb":13,"./rgb":26,"mumath/mod":24}],6:[function(require,module,exports){"use strict";var rgb=require("./rgb");var loop=require("mumath/mod");var clamp=require("mumath/clamp");var hcy=module.exports={name:"hcy",min:[0,0,0],max:[360,100,255],channel:["hue","chroma","luminance"],alias:["HCY"]};hcy.rgb=function(hcy){var h=loop(hcy[0],0,360)*Math.PI/180;var s=clamp(hcy[1],0,100)/100;var i=clamp(hcy[2],0,255)/255;var pi3=Math.PI/3;var r,g,b;if(h<2*pi3){b=i*(1-s);r=i*(1+s*Math.cos(h)/Math.cos(pi3-h));g=i*(1+s*(1-Math.cos(h)/Math.cos(pi3-h)))}else if(h<4*pi3){h=h-2*pi3;r=i*(1-s);g=i*(1+s*Math.cos(h)/Math.cos(pi3-h));b=i*(1+s*(1-Math.cos(h)/Math.cos(pi3-h)))}else{h=h-4*pi3;g=i*(1-s);b=i*(1+s*Math.cos(h)/Math.cos(pi3-h));r=i*(1+s*(1-Math.cos(h)/Math.cos(pi3-h)))}return[r*255,g*255,b*255]};rgb.hcy=function(rgb){var sum=rgb[0]+rgb[1]+rgb[2];var r=rgb[0]/sum;var g=rgb[1]/sum;var b=rgb[2]/sum;var h=Math.acos(.5*(r-g+(r-b))/Math.sqrt((r-g)*(r-g)+(r-b)*(g-b)));if(b>g){h=2*Math.PI-h}var s=1-3*Math.min(r,g,b);var i=sum/3;return[h*180/Math.PI,s*100,i]}},{"./rgb":26,"mumath/clamp":23,"mumath/mod":24}],7:[function(require,module,exports){"use strict";var xyz=require("./xyz");var lchuv=require("./lchuv");var _hsluv=require("hsluv");module.exports={name:"hpluv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HPLuv","HuSLp"],lchuv:_hsluv.hpluvToLch,xyz:function(arg){return lchuv.xyz(_hsluv.hpluvToLch(arg))},hsluv:function(arg){return _hsluv.lchToHsluv(_hsluv.hpluvToLch(arg))}};lchuv.hpluv=_hsluv.lchToHpluv;xyz.hpluv=function(arg){return _hsluv.lchToHpluv(xyz.lchuv(arg))}},{"./lchuv":19,"./xyz":32,hsluv:22}],8:[function(require,module,exports){"use strict";var rgb=require("./rgb");var loop=require("mumath/mod");var clamp=require("mumath/clamp");var hsi=module.exports={name:"hsi",min:[0,0,0],max:[360,100,255],channel:["hue","saturation","intensity"],alias:["HSI"]};hsi.rgb=function(hsi){var h=loop(hsi[0],0,360)*Math.PI/180;var s=clamp(hsi[1],0,100)/100;var i=clamp(hsi[2],0,255)/255;var pi3=Math.PI/3;var r,g,b;if(h<2*pi3){b=i*(1-s);r=i*(1+s*Math.cos(h)/Math.cos(pi3-h));g=i*(1+s*(1-Math.cos(h)/Math.cos(pi3-h)))}else if(h<4*pi3){h=h-2*pi3;r=i*(1-s);g=i*(1+s*Math.cos(h)/Math.cos(pi3-h));b=i*(1+s*(1-Math.cos(h)/Math.cos(pi3-h)))}else{h=h-4*pi3;g=i*(1-s);b=i*(1+s*Math.cos(h)/Math.cos(pi3-h));r=i*(1+s*(1-Math.cos(h)/Math.cos(pi3-h)))}return[r*255,g*255,b*255]};rgb.hsi=function(rgb){var sum=rgb[0]+rgb[1]+rgb[2];var r=rgb[0]/sum;var g=rgb[1]/sum;var b=rgb[2]/sum;var h=Math.acos(.5*(r-g+(r-b))/Math.sqrt((r-g)*(r-g)+(r-b)*(g-b)));if(b>g){h=2*Math.PI-h}var s=1-3*Math.min(r,g,b);var i=sum/3;return[h*180/Math.PI,s*100,i]}},{"./rgb":26,"mumath/clamp":23,"mumath/mod":24}],9:[function(require,module,exports){"use strict";var rgb=require("./rgb");module.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(hsl){var h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100,t1,t2,t3,rgb,val;if(s===0){val=l*255;return[val,val,val]}if(l<.5){t2=l*(1+s)}else{t2=l+s-l*s}t1=2*l-t2;rgb=[0,0,0];for(var i=0;i<3;i++){t3=h+1/3*-(i-1);if(t3<0){t3++}else if(t3>1){t3--}if(6*t3<1){val=t1+(t2-t1)*6*t3}else if(2*t3<1){val=t2}else if(3*t3<2){val=t1+(t2-t1)*(2/3-t3)*6}else{val=t1}rgb[i]=val*255}return rgb}};rgb.hsl=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min,h,s,l;if(max===min){h=0}else if(r===max){h=(g-b)/delta}else if(g===max){h=2+(b-r)/delta}else if(b===max){h=4+(r-g)/delta}h=Math.min(h*60,360);if(h<0){h+=360}l=(min+max)/2;if(max===min){s=0}else if(l<=.5){s=delta/(max+min)}else{s=delta/(2-max-min)}return[h,s*100,l*100]}},{"./rgb":26}],10:[function(require,module,exports){"use strict";var xyz=require("./xyz");var lchuv=require("./lchuv");var _hsluv=require("hsluv");module.exports={name:"hsluv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSLuv","HuSL"],lchuv:_hsluv.hsluvToLch,xyz:function(arg){return lchuv.xyz(_hsluv.hsluvToLch(arg))},hpluv:function(arg){return _hsluv.lchToHpluv(_hsluv.hsluvToLch(arg))}};lchuv.hsluv=_hsluv.lchToHsluv;xyz.hsluv=function(arg){return _hsluv.lchToHsluv(xyz.lchuv(arg))}},{"./lchuv":19,"./xyz":32,hsluv:22}],11:[function(require,module,exports){"use strict";var rgb=require("./rgb"),Pr=.299,Pg=.587,Pb=.114;module.exports={name:"hsp",min:[0,0,0],max:[360,100,255],channel:["hue","saturation","perceived_brightness"],alias:["HSP"],rgb:function(hsp){var h=hsp[0]/360,s=hsp[1]/100,p=hsp[2],r,g,b,part,minOverMax=1-s;if(minOverMax>0){if(h<1/6){h=6*(h-0/6);part=1+h*(1/minOverMax-1);b=p/Math.sqrt(Pr/minOverMax/minOverMax+Pg*part*part+Pb);r=b/minOverMax;g=b+h*(r-b)}else if(h<2/6){h=6*(-h+2/6);part=1+h*(1/minOverMax-1);b=p/Math.sqrt(Pg/minOverMax/minOverMax+Pr*part*part+Pb);g=b/minOverMax;r=b+h*(g-b)}else if(h<3/6){h=6*(h-2/6);part=1+h*(1/minOverMax-1);r=p/Math.sqrt(Pg/minOverMax/minOverMax+Pb*part*part+Pr);g=r/minOverMax;b=r+h*(g-r)}else if(h<4/6){h=6*(-h+4/6);part=1+h*(1/minOverMax-1);r=p/Math.sqrt(Pb/minOverMax/minOverMax+Pg*part*part+Pr);b=r/minOverMax;g=r+h*(b-r)}else if(h<5/6){h=6*(h-4/6);part=1+h*(1/minOverMax-1);g=p/Math.sqrt(Pb/minOverMax/minOverMax+Pr*part*part+Pg);b=g/minOverMax;r=g+h*(b-g)}else{h=6*(-h+6/6);part=1+h*(1/minOverMax-1);g=p/Math.sqrt(Pr/minOverMax/minOverMax+Pb*part*part+Pg);r=g/minOverMax;b=g+h*(r-g)}}else{if(h<1/6){h=6*(h-0/6);r=Math.sqrt(p*p/(Pr+Pg*h*h));g=r*h;b=0}else if(h<2/6){h=6*(-h+2/6);g=Math.sqrt(p*p/(Pg+Pr*h*h));r=g*h;b=0}else if(h<3/6){h=6*(h-2/6);g=Math.sqrt(p*p/(Pg+Pb*h*h));b=g*h;r=0}else if(h<4/6){h=6*(-h+4/6);b=Math.sqrt(p*p/(Pb+Pg*h*h));g=b*h;r=0}else if(h<5/6){h=6*(h-4/6);b=Math.sqrt(p*p/(Pb+Pr*h*h));r=b*h;g=0}else{h=6*(-h+6/6);r=Math.sqrt(p*p/(Pr+Pb*h*h));b=r*h;g=0}}return[Math.round(r),Math.round(g),Math.round(b)]}};rgb.hsp=function(rgb){var r=parseInt(rgb[0],10),g=parseInt(rgb[1],10),b=parseInt(rgb[2],10),h,s,p;p=Math.sqrt(r*r*Pr+g*g*Pg+b*b*Pb);if(r===g&&r===b){h=0;s=0}else{if(r>=g&&r>=b){if(b>=g){h=6/6-1/6*(b-g)/(r-g);s=1-g/r}else{h=0/6+1/6*(g-b)/(r-b);s=1-b/r}}if(g>=r&&g>=b){if(r>=b){h=2/6-1/6*(r-b)/(g-b);s=1-b/g}else{h=2/6+1/6*(b-r)/(g-r);s=1-r/g}}if(b>=r&&b>=g){if(g>=r){h=4/6-1/6*(g-r)/(b-r);s=1-r/b}else{h=4/6+1/6*(r-g)/(b-g);s=1-g/b}}}return[Math.round(h*360),s*100,Math.round(p)]}},{"./rgb":26}],12:[function(require,module,exports){"use strict";var rgb=require("./rgb");var hsl=require("./hsl");module.exports={name:"hsv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","value"],alias:["HSV","HSB"],rgb:function(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6;var f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f));v*=255;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}},hsl:function(hsv){var h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,sl,l;l=(2-s)*v;sl=s*v;sl/=l<=1?l:2-l;sl=sl||0;l/=2;return[h,sl*100,l*100]}};rgb.hsv=function(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min,h,s,v;if(max===0){s=0}else{s=delta/max*100}if(max===min){h=0}else if(r===max){h=(g-b)/delta}else if(g===max){h=2+(b-r)/delta}else if(b===max){h=4+(r-g)/delta}h=Math.min(h*60,360);if(h<0){h+=360}v=max/255*1e3/10;return[h,s,v]};hsl.hsv=function(hsl){var h=hsl[0],s=hsl[1]/100,l=hsl[2]/100,sv,v;l*=2;s*=l<=1?l:2-l;v=(l+s)/2;sv=2*s/(l+s)||0;return[h,sv*100,v*100]}},{"./hsl":9,"./rgb":26}],13:[function(require,module,exports){"use strict";var rgb=require("./rgb");var hsv=require("./hsv");var hsl=require("./hsl");var hwb=module.exports={name:"hwb",min:[0,0,0],max:[360,100,100],channel:["hue","whiteness","blackness"],alias:["HWB"],rgb:function(hwb){var h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl,i,v,f,n;var r,g,b;if(ratio>1){wh/=ratio;bl/=ratio}i=Math.floor(6*h);v=1-bl;f=6*h-i;if((i&1)!==0){f=1-f}n=wh+f*(v-wh);switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break}return[r*255,g*255,b*255]},hsv:function(arg){var h=arg[0],w=arg[1],b=arg[2],s,v;if(w+b>=100){s=0;v=100*w/(w+b)}else{s=100-w/(1-b/100);v=100-b}return[h,s,v]},hsl:function(arg){return hsv.hsl(hwb.hsv(arg))}};rgb.hwb=function(val){var r=val[0],g=val[1],b=val[2],h=rgb.hsl(val)[0],w=1/255*Math.min(r,Math.min(g,b));b=1-1/255*Math.max(r,Math.max(g,b));return[h,w*100,b*100]};hsv.hwb=function(arg){var h=arg[0],s=arg[1],v=arg[2];return[h,v===0?0:v*(1-s/100),100-v]};hsl.hwb=function(arg){return hsv.hwb(hsl.hsv(arg))}},{"./hsl":9,"./hsv":12,"./rgb":26}],14:[function(require,module,exports){"use strict";var spaces={rgb:require("./rgb"),hsl:require("./hsl"),hsv:require("./hsv"),hsi:require("./hsi"),hwb:require("./hwb"),cmyk:require("./cmyk"),cmy:require("./cmy"),xyz:require("./xyz"),xyy:require("./xyy"),yiq:require("./yiq"),yuv:require("./yuv"),ydbdr:require("./ydbdr"),ycgco:require("./ycgco"),ypbpr:require("./ypbpr"),ycbcr:require("./ycbcr"),xvycc:require("./xvycc"),yccbccrc:require("./yccbccrc"),ucs:require("./ucs"),uvw:require("./uvw"),jpeg:require("./jpeg"),lab:require("./lab"),labh:require("./labh"),lms:require("./lms"),lchab:require("./lchab"),luv:require("./luv"),lchuv:require("./lchuv"),hsluv:require("./hsluv"),hpluv:require("./hpluv"),cubehelix:require("./cubehelix"),coloroid:require("./coloroid"),hcg:require("./hcg"),hcy:require("./hcy"),tsl:require("./tsl"),yes:require("./yes"),osaucs:require("./osaucs"),hsp:require("./hsp")};var fromSpace;for(var fromSpaceName in spaces){fromSpace=spaces[fromSpaceName];for(var toSpaceName in spaces){if(!fromSpace[toSpaceName])fromSpace[toSpaceName]=getConvertor(fromSpaceName,toSpaceName)}}function getConvertor(fromSpaceName,toSpaceName){var fromSpace=spaces[fromSpaceName];if(fromSpaceName===toSpaceName){return function(a){return a}}else if(fromSpace.xyz&&spaces.xyz[toSpaceName]){return function(arg){return spaces.xyz[toSpaceName](fromSpace.xyz(arg))}}else if(fromSpace.rgb&&spaces.rgb[toSpaceName]){return function(arg){return spaces.rgb[toSpaceName](fromSpace.rgb(arg))}}}module.exports=spaces},{"./cmy":1,"./cmyk":2,"./coloroid":3,"./cubehelix":4,"./hcg":5,"./hcy":6,"./hpluv":7,"./hsi":8,"./hsl":9,"./hsluv":10,"./hsp":11,"./hsv":12,"./hwb":13,"./jpeg":15,"./lab":16,"./labh":17,"./lchab":18,"./lchuv":19,"./lms":20,"./luv":21,"./osaucs":25,"./rgb":26,"./tsl":27,"./ucs":28,"./uvw":29,"./xvycc":30,"./xyy":31,"./xyz":32,"./ycbcr":33,"./yccbccrc":34,"./ycgco":35,"./ydbdr":36,"./yes":37,"./yiq":38,"./ypbpr":39,"./yuv":40}],15:[function(require,module,exports){"use strict";var rgb=require("./rgb");var jpeg=module.exports={name:"jpeg",min:[0,0,0],max:[255,255,255],channel:["Y","Cb","Cr"],alias:["JPEG"]};jpeg.rgb=function(arr){var y=arr[0],cb=arr[1],cr=arr[2];return[y+1.402*(cr-128),y-.34414*(cb-128)-.71414*(cr-128),y+1.772*(cb-128)]};rgb.jpeg=function(arr){var r=arr[0],g=arr[1],b=arr[2];return[.299*r+.587*g+.114*b,128-.168736*r-.331264*g+.5*b,128+.5*r-.418688*g-.081312*b]}},{"./rgb":26}],16:[function(require,module,exports){"use strict";var xyz=require("./xyz");module.exports={name:"lab",min:[0,-100,-100],max:[100,100,100],channel:["lightness","a","b"],alias:["LAB","cielab"],xyz:function(lab){var l=lab[0],a=lab[1],b=lab[2],x,y,z,y2;if(l<=8){y=l*100/903.3;y2=7.787*(y/100)+16/116}else{y=100*Math.pow((l+16)/116,3);y2=Math.pow(y/100,1/3)}x=x/95.047<=.008856?x=95.047*(a/500+y2-16/116)/7.787:95.047*Math.pow(a/500+y2,3);z=z/108.883<=.008859?z=108.883*(y2-b/200-16/116)/7.787:108.883*Math.pow(y2-b/200,3);return[x,y,z]}};xyz.lab=function(xyz){var x=xyz[0],y=xyz[1],z=xyz[2],l,a,b;x/=95.047;y/=100;z/=108.883;x=x>.008856?Math.pow(x,1/3):7.787*x+16/116;y=y>.008856?Math.pow(y,1/3):7.787*y+16/116;z=z>.008856?Math.pow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]}},{"./xyz":32}],17:[function(require,module,exports){"use strict";var xyz=require("./xyz");module.exports={name:"labh",min:[0,-128,-128],max:[100,128,128],channel:["lightness","a","b"],alias:["LABh","hunter-lab","hlab"],xyz:function(lab){var l=lab[0],a=lab[1],b=lab[2];var _y=l/10;var _x=a/17.5*l/10;var _z=b/7*l/10;var y=_y*_y;var x=(_x+y)/1.02;var z=-(_z-y)/.847;return[x,y,z]}};xyz.labh=function(xyz){var x=xyz[0],y=xyz[1],z=xyz[2];var l=10*Math.sqrt(y);var a=y===0?0:17.5*((1.02*x-y)/Math.sqrt(y));var b=y===0?0:7*((y-.847*z)/Math.sqrt(y));return[l,a,b]}},{"./xyz":32}],18:[function(require,module,exports){"use strict";var xyz=require("./xyz");var lab=require("./lab");var lchab=module.exports={name:"lchab",min:[0,0,0],max:[100,100,360],channel:["lightness","chroma","hue"],alias:["LCHab","cielch","LCH","HLC","LSH"],xyz:function(arg){return lab.xyz(lchab.lab(arg))},lab:function(lch){var l=lch[0],c=lch[1],h=lch[2],a,b,hr;hr=h/360*2*Math.PI;a=c*Math.cos(hr);b=c*Math.sin(hr);return[l,a,b]}};lab.lchab=function(lab){var l=lab[0],a=lab[1],b=lab[2],hr,h,c;hr=Math.atan2(b,a);h=hr*360/2/Math.PI;if(h<0){h+=360}c=Math.sqrt(a*a+b*b);return[l,c,h]};xyz.lchab=function(arg){return lab.lchab(xyz.lab(arg))}},{"./lab":16,"./xyz":32}],19:[function(require,module,exports){"use strict";var luv=require("./luv");var xyz=require("./xyz");var lchuv=module.exports={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(luv){var l=luv[0],c=luv[1],h=luv[2],u,v,hr;hr=h/360*2*Math.PI;u=c*Math.cos(hr);v=c*Math.sin(hr);return[l,u,v]},xyz:function(arg){return luv.xyz(lchuv.luv(arg))}};luv.lchuv=function(luv){var l=luv[0],u=luv[1],v=luv[2];var c=Math.sqrt(u*u+v*v);var hr=Math.atan2(v,u);var h=hr*360/2/Math.PI;if(h<0){h+=360}return[l,c,h]};xyz.lchuv=function(arg){return luv.lchuv(xyz.luv(arg))}},{"./luv":21,"./xyz":32}],20:[function(require,module,exports){"use strict";var xyz=require("./xyz");var lms=module.exports={name:"lms",min:[0,0,0],max:[100,100,100],channel:["long","medium","short"],matrix:{HPE:[.38971,.68898,-.07868,-.22981,1.1834,.04641,0,0,1],VONKRIES:[.4002,.7076,-.0808,-.2263,1.1653,.0457,0,0,.9182],BFD:[.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0686,1.0296],CAT97:[.8562,.3372,-.1934,-.836,1.8327,.0033,.0357,-.00469,1.0112],CAT00:[.7982,.3389,-.1371,-.5918,1.5512,.0406,8e-4,.0239,.9753],CAT02:[.7328,.4296,-.1624,-.7036,1.6975,.0061,.003,.0136,.9834]}};lms.xyz=function(arg,matrix){var l=arg[0],m=arg[1],s=arg[2];if(!matrix){matrix=[1.096123820835514,-.278869000218287,+.182745179382773,.454369041975359,+.473533154307412,+.072097803717229,-.009627608738429,-.005698031216113,+1.015325639954543]}return[l*matrix[0]+m*matrix[1]+s*matrix[2],l*matrix[3]+m*matrix[4]+s*matrix[5],l*matrix[6]+m*matrix[7]+s*matrix[8]]};xyz.lms=function(arg,matrix){var x=arg[0],y=arg[1],z=arg[2];if(!matrix){matrix=lms.matrix.CAT02}return[x*matrix[0]+y*matrix[1]+z*matrix[2],x*matrix[3]+y*matrix[4]+z*matrix[5],x*matrix[6]+y*matrix[7]+z*matrix[8]]}},{"./xyz":32}],21:[function(require,module,exports){"use strict";var xyz=require("./xyz");module.exports={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(arg,i,o){var _u,_v,l,u,v,x,y,z,xn,yn,zn,un,vn;l=arg[0],u=arg[1],v=arg[2];if(l===0)return[0,0,0];var k=.0011070564598794539;i=i||"D65";o=o||2;xn=xyz.whitepoint[o][i][0];yn=xyz.whitepoint[o][i][1];zn=xyz.whitepoint[o][i][2];un=4*xn/(xn+15*yn+3*zn);vn=9*yn/(xn+15*yn+3*zn);_u=u/(13*l)+un||0;_v=v/(13*l)+vn||0;y=l>8?yn*Math.pow((l+16)/116,3):yn*l*k;x=y*9*_u/(4*_v)||0;z=y*(12-3*_u-20*_v)/(4*_v)||0;return[x,y,z]}};xyz.luv=function(arg,i,o){var _u,_v,l,u,v,x,y,z,xn,yn,zn,un,vn;var e=.008856451679035631;var k=903.2962962962961;i=i||"D65";o=o||2;xn=xyz.whitepoint[o][i][0];yn=xyz.whitepoint[o][i][1];zn=xyz.whitepoint[o][i][2];un=4*xn/(xn+15*yn+3*zn);vn=9*yn/(xn+15*yn+3*zn);x=arg[0],y=arg[1],z=arg[2];_u=4*x/(x+15*y+3*z)||0;_v=9*y/(x+15*y+3*z)||0;var yr=y/yn;l=yr<=e?k*yr:116*Math.pow(yr,1/3)-16;u=13*l*(_u-un);v=13*l*(_v-vn);return[l,u,v]}},{"./xyz":32}],22:[function(require,module,exports){var hsluv=hsluv||{};hsluv.Geometry=function(){};hsluv.Geometry.intersectLineLine=function(a,b){var x=(a.intercept-b.intercept)/(b.slope-a.slope);var y=a.slope*x+a.intercept;return{x:x,y:y}};hsluv.Geometry.distanceFromOrigin=function(point){return Math.sqrt(Math.pow(point.x,2)+Math.pow(point.y,2))};hsluv.Geometry.distanceLineFromOrigin=function(line){return Math.abs(line.intercept)/Math.sqrt(Math.pow(line.slope,2)+1)};hsluv.Geometry.perpendicularThroughPoint=function(line,point){var slope=-1/line.slope;var intercept=point.y-slope*point.x;return{slope:slope,intercept:intercept}};hsluv.Geometry.angleFromOrigin=function(point){return Math.atan2(point.y,point.x)};hsluv.Geometry.normalizeAngle=function(angle){var m=2*Math.PI;return(angle%m+m)%m};hsluv.Geometry.lengthOfRayUntilIntersect=function(theta,line){return line.intercept/(Math.sin(theta)-line.slope*Math.cos(theta))};hsluv.Hsluv=function(){};hsluv.Hsluv.getBounds=function(L){var result=[];var sub1=Math.pow(L+16,3)/1560896;var sub2=sub1>hsluv.Hsluv.epsilon?sub1:L/hsluv.Hsluv.kappa;var _g=0;while(_g<3){var c=_g++;var m1=hsluv.Hsluv.m[c][0];var m2=hsluv.Hsluv.m[c][1];var m3=hsluv.Hsluv.m[c][2];var _g1=0;while(_g1<2){var t=_g1++;var top1=(284517*m1-94839*m3)*sub2;var top2=(838422*m3+769860*m2+731718*m1)*L*sub2-769860*t*L;var bottom=(632260*m3-126452*m2)*sub2+126452*t;result.push({slope:top1/bottom,intercept:top2/bottom})}}return result};hsluv.Hsluv.maxSafeChromaForL=function(L){var bounds=hsluv.Hsluv.getBounds(L);var min=Infinity;var _g=0;while(_g<bounds.length){var bound=bounds[_g];++_g;var length=hsluv.Geometry.distanceLineFromOrigin(bound);min=Math.min(min,length)}return min};hsluv.Hsluv.maxChromaForLH=function(L,H){var hrad=H/360*Math.PI*2;var bounds=hsluv.Hsluv.getBounds(L);var min=Infinity;var _g=0;while(_g<bounds.length){var bound=bounds[_g];++_g;var length=hsluv.Geometry.lengthOfRayUntilIntersect(hrad,bound);if(length>=0){min=Math.min(min,length)}}return min};hsluv.Hsluv.dotProduct=function(a,b){var sum=0;var _g1=0;var _g=a.length;while(_g1<_g){var i=_g1++;sum+=a[i]*b[i]}return sum};hsluv.Hsluv.fromLinear=function(c){if(c<=.0031308){return 12.92*c}else{return 1.055*Math.pow(c,.4166666666666667)-.055}};hsluv.Hsluv.toLinear=function(c){if(c>.04045){return Math.pow((c+.055)/1.055,2.4)}else{return c/12.92}};hsluv.Hsluv.xyzToRgb=function(tuple){return[hsluv.Hsluv.fromLinear(hsluv.Hsluv.dotProduct(hsluv.Hsluv.m[0],tuple)),hsluv.Hsluv.fromLinear(hsluv.Hsluv.dotProduct(hsluv.Hsluv.m[1],tuple)),hsluv.Hsluv.fromLinear(hsluv.Hsluv.dotProduct(hsluv.Hsluv.m[2],tuple))]};hsluv.Hsluv.rgbToXyz=function(tuple){var rgbl=[hsluv.Hsluv.toLinear(tuple[0]),hsluv.Hsluv.toLinear(tuple[1]),hsluv.Hsluv.toLinear(tuple[2])];return[hsluv.Hsluv.dotProduct(hsluv.Hsluv.minv[0],rgbl),hsluv.Hsluv.dotProduct(hsluv.Hsluv.minv[1],rgbl),hsluv.Hsluv.dotProduct(hsluv.Hsluv.minv[2],rgbl)]};hsluv.Hsluv.yToL=function(Y){if(Y<=hsluv.Hsluv.epsilon){return Y/hsluv.Hsluv.refY*hsluv.Hsluv.kappa}else{return 116*Math.pow(Y/hsluv.Hsluv.refY,.3333333333333333)-16}};hsluv.Hsluv.lToY=function(L){if(L<=8){return hsluv.Hsluv.refY*L/hsluv.Hsluv.kappa}else{return hsluv.Hsluv.refY*Math.pow((L+16)/116,3)}};hsluv.Hsluv.xyzToLuv=function(tuple){var X=tuple[0];var Y=tuple[1];var Z=tuple[2];var divider=X+15*Y+3*Z;var varU=4*X;var varV=9*Y;if(divider!=0){varU/=divider;varV/=divider}else{varU=NaN;varV=NaN}var L=hsluv.Hsluv.yToL(Y);if(L==0){return[0,0,0]}var U=13*L*(varU-hsluv.Hsluv.refU);var V=13*L*(varV-hsluv.Hsluv.refV);return[L,U,V]};hsluv.Hsluv.luvToXyz=function(tuple){var L=tuple[0];var U=tuple[1];var V=tuple[2];if(L==0){return[0,0,0]}var varU=U/(13*L)+hsluv.Hsluv.refU;var varV=V/(13*L)+hsluv.Hsluv.refV;var Y=hsluv.Hsluv.lToY(L);var X=0-9*Y*varU/((varU-4)*varV-varU*varV);var Z=(9*Y-15*varV*Y-varV*X)/(3*varV);return[X,Y,Z]};hsluv.Hsluv.luvToLch=function(tuple){var L=tuple[0];var U=tuple[1];var V=tuple[2];var C=Math.sqrt(U*U+V*V);var H;if(C<1e-8){H=0}else{var Hrad=Math.atan2(V,U);H=Hrad*180/Math.PI;if(H<0){H=360+H}}return[L,C,H]};hsluv.Hsluv.lchToLuv=function(tuple){var L=tuple[0];var C=tuple[1];var H=tuple[2];var Hrad=H/360*2*Math.PI;var U=Math.cos(Hrad)*C;var V=Math.sin(Hrad)*C;return[L,U,V]};hsluv.Hsluv.hsluvToLch=function(tuple){var H=tuple[0];var S=tuple[1];var L=tuple[2];if(L>99.9999999){return[100,0,H]}if(L<1e-8){return[0,0,H]}var max=hsluv.Hsluv.maxChromaForLH(L,H);var C=max/100*S;return[L,C,H]};hsluv.Hsluv.lchToHsluv=function(tuple){var L=tuple[0];var C=tuple[1];var H=tuple[2];if(L>99.9999999){return[H,0,100]}if(L<1e-8){return[H,0,0]}var max=hsluv.Hsluv.maxChromaForLH(L,H);var S=C/max*100;return[H,S,L]};hsluv.Hsluv.hpluvToLch=function(tuple){var H=tuple[0];var S=tuple[1];var L=tuple[2];if(L>99.9999999){return[100,0,H]}if(L<1e-8){return[0,0,H]}var max=hsluv.Hsluv.maxSafeChromaForL(L);var C=max/100*S;return[L,C,H]};hsluv.Hsluv.lchToHpluv=function(tuple){var L=tuple[0];var C=tuple[1];var H=tuple[2];if(L>99.9999999){return[H,0,100]}if(L<1e-8){return[H,0,0]}var max=hsluv.Hsluv.maxSafeChromaForL(L);var S=C/max*100;return[H,S,L]};hsluv.Hsluv.rgbToHex=function(tuple){var h="#";var _g=0;while(_g<3){var i=_g++;var chan=tuple[i];var c=Math.round(chan*255);var digit2=c%16;var digit1=(c-digit2)/16|0;h+=hsluv.Hsluv.hexChars.charAt(digit1)+hsluv.Hsluv.hexChars.charAt(digit2)}return h};hsluv.Hsluv.hexToRgb=function(hex){hex=hex.toLowerCase();var ret=[];var _g=0;while(_g<3){var i=_g++;var digit1=hsluv.Hsluv.hexChars.indexOf(hex.charAt(i*2+1));var digit2=hsluv.Hsluv.hexChars.indexOf(hex.charAt(i*2+2));var n=digit1*16+digit2;ret.push(n/255)}return ret};hsluv.Hsluv.lchToRgb=function(tuple){return hsluv.Hsluv.xyzToRgb(hsluv.Hsluv.luvToXyz(hsluv.Hsluv.lchToLuv(tuple)))};hsluv.Hsluv.rgbToLch=function(tuple){return hsluv.Hsluv.luvToLch(hsluv.Hsluv.xyzToLuv(hsluv.Hsluv.rgbToXyz(tuple)))};hsluv.Hsluv.hsluvToRgb=function(tuple){return hsluv.Hsluv.lchToRgb(hsluv.Hsluv.hsluvToLch(tuple))};hsluv.Hsluv.rgbToHsluv=function(tuple){return hsluv.Hsluv.lchToHsluv(hsluv.Hsluv.rgbToLch(tuple))};hsluv.Hsluv.hpluvToRgb=function(tuple){return hsluv.Hsluv.lchToRgb(hsluv.Hsluv.hpluvToLch(tuple))};hsluv.Hsluv.rgbToHpluv=function(tuple){return hsluv.Hsluv.lchToHpluv(hsluv.Hsluv.rgbToLch(tuple))};hsluv.Hsluv.hsluvToHex=function(tuple){return hsluv.Hsluv.rgbToHex(hsluv.Hsluv.hsluvToRgb(tuple))};hsluv.Hsluv.hpluvToHex=function(tuple){return hsluv.Hsluv.rgbToHex(hsluv.Hsluv.hpluvToRgb(tuple))};hsluv.Hsluv.hexToHsluv=function(s){return hsluv.Hsluv.rgbToHsluv(hsluv.Hsluv.hexToRgb(s))};hsluv.Hsluv.hexToHpluv=function(s){return hsluv.Hsluv.rgbToHpluv(hsluv.Hsluv.hexToRgb(s))};hsluv.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]];hsluv.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]];hsluv.Hsluv.refY=1;hsluv.Hsluv.refU=.19783000664283;hsluv.Hsluv.refV=.46831999493879;hsluv.Hsluv.kappa=903.2962962;hsluv.Hsluv.epsilon=.0088564516;hsluv.Hsluv.hexChars="0123456789abcdef";var root={hsluvToRgb:hsluv.Hsluv.hsluvToRgb,rgbToHsluv:hsluv.Hsluv.rgbToHsluv,hpluvToRgb:hsluv.Hsluv.hpluvToRgb,rgbToHpluv:hsluv.Hsluv.rgbToHpluv,hsluvToHex:hsluv.Hsluv.hsluvToHex,hexToHsluv:hsluv.Hsluv.hexToHsluv,hpluvToHex:hsluv.Hsluv.hpluvToHex,hexToHpluv:hsluv.Hsluv.hexToHpluv,lchToHpluv:hsluv.Hsluv.lchToHpluv,hpluvToLch:hsluv.Hsluv.hpluvToLch,lchToHsluv:hsluv.Hsluv.lchToHsluv,hsluvToLch:hsluv.Hsluv.hsluvToLch,lchToLuv:hsluv.Hsluv.lchToLuv,luvToLch:hsluv.Hsluv.luvToLch,xyzToLuv:hsluv.Hsluv.xyzToLuv,luvToXyz:hsluv.Hsluv.luvToXyz,xyzToRgb:hsluv.Hsluv.xyzToRgb,rgbToXyz:hsluv.Hsluv.rgbToXyz,lchToRgb:hsluv.Hsluv.lchToRgb,rgbToLch:hsluv.Hsluv.rgbToLch};module.exports=root},{}],23:[function(require,module,exports){"use strict";module.exports=function(a,min,max){return max>min?Math.max(Math.min(a,max),min):Math.max(Math.min(a,min),max)}},{}],24:[function(require,module,exports){"use strict";module.exports=function(value,left,right){if(right===undefined){right=left;left=0}if(left>right){var tmp=right;right=left;left=tmp}var frame=right-left;value=(value+left)%frame-left;if(value<left)value+=frame;if(value>right)value-=frame;return value}},{}],25:[function(require,module,exports){"use strict";var xyz=require("./xyz");var osaucs={name:"osaucs",alias:["OSA-UCS"],channel:["L","j","g"],min:[-10,-6,-10],max:[8,12,6]};osaucs.xyz=function(arg){var x,y,z;throw"Unimplemented";return[x,y,z]};xyz.osaucs=function(arg){var X=arg[0],Y=arg[1],Z=arg[2];var x=X/(X+Y+Z);var y=Y/(X+Y+Z);var K=4.4934*x*x+4.3034*y*y-4.276*x*y-1.3744*x-2.56439*y+1.8103;var Y0=K*Y;var L_=5.9*(Math.pow(Y0,1/3)-2/3+.042*Math.pow(Math.max(Y0,30)-30,1/3));var L=(L_-14.3993)/Math.sqrt(2);var C=L_/(5.9*(Math.pow(Y0,1/3)-2/3));var R=.779*X+.4194*Y-.1648*Z;var G=-.4493*X+1.3265*Y+.0927*Z;var B=-.1149*X+.3394*Y+.717*Z;R=Math.pow(R,1/3)||0;G=Math.pow(G,1/3)||0;B=Math.pow(B,1/3)||0;var a=-13.7*R+17.7*G-4*B;var b=1.7*R+8*G-9.7*B;var g=C*a;var j=C*b;return[L,j,g]};module.exports=osaucs},{"./xyz":32}],26:[function(require,module,exports){"use strict";module.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},{}],27:[function(require,module,exports){"use strict";var rgb=require("./rgb");var tsl=module.exports={name:"tsl",min:[0,0,0],max:[1,1,1],channel:["tint","saturation","lightness"]};tsl.rgb=function(tsl){var T=tsl[0],S=tsl[1],L=tsl[2];var x=Math.tan(2*Math.PI*(T-1/4));x*=x;var r=Math.sqrt(5*S*S/(9*(1/x+1)))+1/3;var g=Math.sqrt(5*S*S/(9*(x+1)))+1/3;var k=L/(.185*r+.473*g+.114);var B=k*(1-r-g);var G=k*g;var R=k*r;return[R*255,G*255,B*255]};rgb.tsl=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;var r_=(r/(r+g+b)||0)-1/3,g_=(g/(r+g+b)||0)-1/3;var T=g_>0?.5*Math.atan(r_/g_)/Math.PI+.25:g_<0?.5*Math.atan(r_/g_)/Math.PI+.75:0;var S=Math.sqrt(9/5*(r_*r_+g_*g_));var L=r*.299+g*.587+b*.114;return[T,S,L]}},{"./rgb":26}],28:[function(require,module,exports){"use strict";var xyz=require("./xyz");var ucs=module.exports={name:"ucs",min:[0,0,0],max:[100,100,100],channel:["U","V","W"],alias:["UCS","cie1960"]};ucs.xyz=function(ucs){var u=ucs[0],v=ucs[1],w=ucs[2];return[1.5*u,v,1.5*u-3*v+2*w]};xyz.ucs=function(xyz){var x=xyz[0],y=xyz[1],z=xyz[2];return[x*2/3,y,.5*(-x+3*y+z)]}},{"./xyz":32}],29:[function(require,module,exports){"use strict";var ucs=require("./ucs");var xyz=require("./xyz");var uvw=module.exports={name:"uvw",min:[-134,-140,0],max:[224,122,100],channel:["U","V","W"],alias:["UVW","cieuvw","cie1964"]};uvw.xyz=function(arg,i,o){var _u,_v,w,u,v,x,y,z,xn,yn,zn,un,vn;u=arg[0],v=arg[1],w=arg[2];if(w===0)return[0,0,0];i=i||"D65";o=o||2;xn=xyz.whitepoint[o][i][0];yn=xyz.whitepoint[o][i][1];zn=xyz.whitepoint[o][i][2];un=4*xn/(xn+15*yn+3*zn);vn=6*yn/(xn+15*yn+3*zn);y=Math.pow((w+17)/25,3);_u=u/(13*w)+un||0;_v=v/(13*w)+vn||0;x=6/4*y*_u/_v;z=y*(2/_v-.5*_u/_v-5);return[x,y,z]};xyz.uvw=function(arr,i,o){var x=arr[0],y=arr[1],z=arr[2],xn,yn,zn,un,vn;i=i||"D65";o=o||2;xn=xyz.whitepoint[o][i][0];yn=xyz.whitepoint[o][i][1];zn=xyz.whitepoint[o][i][2];un=4*xn/(xn+15*yn+3*zn);vn=6*yn/(xn+15*yn+3*zn);var _u=4*x/(x+15*y+3*z)||0;var _v=6*y/(x+15*y+3*z)||0;var w=25*Math.pow(y,1/3)-17;var u=13*w*(_u-un);var v=13*w*(_v-vn);return[u,v,w]};uvw.ucs=function(uvw){};ucs.uvw=function(ucs){}},{"./ucs":28,"./xyz":32}],30:[function(require,module,exports){"use strict";var rgb=require("./rgb");var ypbpr=require("./ypbpr");var xvycc=module.exports={name:"xvycc",min:[0,0,0],max:[255,255,255],channel:["Y","Cb","Cr"],alias:["xvYCC"]};ypbpr.xvycc=function(ypbpr){var y=ypbpr[0],pb=ypbpr[1],pr=ypbpr[2];return[16+219*y,128+224*pb,128+224*pr]};xvycc.ypbpr=function(xvycc){var y=xvycc[0],cb=xvycc[1],cr=xvycc[2];return[(y-16)/219,(cb-128)/224,(cr-128)/224]};xvycc.rgb=function(arr,kb,kr){return ypbpr.rgb(xvycc.ypbpr(arr),kb,kr)};rgb.xvycc=function(arr,kb,kr){return ypbpr.xvycc(rgb.ypbpr(arr,kb,kr))}},{"./rgb":26,"./ypbpr":39}],31:[function(require,module,exports){"use strict";var xyz=require("./xyz");var xyy={name:"xyy",min:[0,0,0],max:[1,1,100],channel:["x","y","Y"],alias:["xyY","Yxy","yxy"]};xyy.xyz=function(arg){var X,Y,Z,x,y;x=arg[0];y=arg[1];Y=arg[2];if(y===0){return[0,0,0]}X=x*Y/y;Z=(1-x-y)*Y/y;return[X,Y,Z]};xyz.xyy=function(arg){var sum,X,Y,Z;X=arg[0];Y=arg[1];Z=arg[2];sum=X+Y+Z;if(sum===0){return[0,0,Y]}return[X/sum,Y/sum,Y]};module.exports=xyy},{"./xyz":32}],32:[function(require,module,exports){"use strict";var rgb=require("./rgb");var xyz={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};xyz.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};xyz.max=xyz.whitepoint[2].D65;xyz.rgb=function(_xyz,white){white=white||xyz.whitepoint[2].E;var x=_xyz[0]/white[0],y=_xyz[1]/white[1],z=_xyz[2]/white[2],r,g,b;r=x*3.240969941904521+y*-1.537383177570093+z*-.498610760293;g=x*-.96924363628087+y*1.87596750150772+z*.041555057407175;b=x*.055630079696993+y*-.20397695888897+z*1.056971514242878;r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=r*12.92;g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g=g*12.92;b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b=b*12.92;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255]};rgb.xyz=function(rgb,white){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var x=r*.41239079926595+g*.35758433938387+b*.18048078840183;var y=r*.21263900587151+g*.71516867876775+b*.072192315360733;var z=r*.019330818715591+g*.11919477979462+b*.95053215224966;white=white||xyz.whitepoint[2].E;return[x*white[0],y*white[1],z*white[2]]};module.exports=xyz},{"./rgb":26}],33:[function(require,module,exports){"use strict";var rgb=require("./rgb");var ypbpr=require("./ypbpr");var ycbcr=module.exports={name:"ycbcr",min:[16,16,16],max:[235,240,240],channel:["Y","Cb","Cr"],alias:["YCbCr","YCC"]};ypbpr.ycbcr=function(ypbpr){var y=ypbpr[0],pb=ypbpr[1],pr=ypbpr[2];return[16+219*y,128+224*pb,128+224*pr]};ycbcr.ypbpr=function(ycbcr){var y=ycbcr[0],cb=ycbcr[1],cr=ycbcr[2];return[(y-16)/219,(cb-128)/224,(cr-128)/224]};ycbcr.rgb=function(arr,kb,kr){return ypbpr.rgb(ycbcr.ypbpr(arr),kb,kr)};rgb.ycbcr=function(arr,kb,kr){return ypbpr.ycbcr(rgb.ypbpr(arr,kb,kr))}},{"./rgb":26,"./ypbpr":39}],34:[function(require,module,exports){"use strict";var rgb=require("./rgb");var ypbpr=require("./ypbpr");var yccbccrc=module.exports={name:"yccbccrc",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Yc","Cbc","Crc"],alias:["YcCbcCrc"]};yccbccrc.rgb=function(yccbccrc){return ypbpr.rgb(yccbccrc,.0593,.2627)};rgb.yccbccrc=function(arr){return rgb.ypbpr(arr,.0593,.2627)}},{"./rgb":26,"./ypbpr":39}],35:[function(require,module,exports){"use strict";var rgb=require("./rgb");var ycgco=module.exports={name:"ycgco",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","Cg","Co"],alias:["YCgCo"]};ycgco.rgb=function(arr){var y=arr[0],cg=arr[1],co=arr[2];var tmp=y-cg;return[(tmp+co)*255,(y+cg)*255,(tmp-co)*255]};rgb.ycgco=function(arr){var r=arr[0]/255,g=arr[1]/255,b=arr[2]/255;return[.25*r+.5*g+.25*b,-.25*r+.5*g-.25*b,.5*r-.5*b]}},{"./rgb":26}],36:[function(require,module,exports){"use strict";var rgb=require("./rgb");var yuv=require("./yuv");var ydbdr=module.exports={name:"ydbdr",min:[0,-1.333,-1.333],max:[1,1.333,1.333],channel:["Y","Db","Dr"],alias:["YDbDr"]};ydbdr.rgb=function(ydbdr){var y=ydbdr[0],db=ydbdr[1],dr=ydbdr[2];var r=y+92303716148e-15*db-.525912630661865*dr;var g=y-.129132898890509*db+.267899328207599*dr;var b=y+.664679059978955*db-79202543533e-15*dr;return[r*255,g*255,b*255]};rgb.ydbdr=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return[.299*r+.587*g+.114*b,-.45*r-.883*g+1.333*b,-1.333*r+1.116*g+.217*b]};yuv.ydbdr=function(yuv){return[yuv[0],3.059*yuv[1],-2.169*yuv[2]]};ydbdr.yuv=function(ydbdr){return[ydbdr[0],ydbdr[1]/3.059,-ydbdr[2]/2.169]}},{"./rgb":26,"./yuv":40}],37:[function(require,module,exports){"use strict";var rgb=require("./rgb");var yes=module.exports={name:"yes",min:[0,0,0],max:[1,1,1],channel:["luminance","e-factor","s-factor"]};yes.rgb=function(arg){var y=arg[0],e=arg[1],s=arg[2];var m=[1,1.431,.126,1,-.569,.126,1,.431,-1.874];var r=y*m[0]+e*m[1]+s*m[2],g=y*m[3]+e*m[4]+s*m[5],b=y*m[6]+e*m[7]+s*m[8];return[r*255,g*255,b*255]};rgb.yes=function(arg){var r=arg[0]/255,g=arg[1]/255,b=arg[2]/255;var m=[.253,.684,.063,.5,-.5,0,.25,.25,-.5];return[r*m[0]+g*m[1]+b*m[2],r*m[3]+g*m[4]+b*m[5],r*m[6]+g*m[7]+b*m[8]]}},{"./rgb":26}],38:[function(require,module,exports){"use strict";var rgb=require("./rgb");var yiq=module.exports={name:"yiq",min:[0,-.5957,-.5226],max:[1,.5957,.5226],channel:["Y","I","Q"],alias:["YIQ"]};yiq.rgb=function(yiq){var y=yiq[0],i=yiq[1],q=yiq[2],r,g,b;r=y*1+i*.956+q*.621;g=y*1+i*-.272+q*-.647;b=y*1+i*-1.108+q*1.705;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255]};rgb.yiq=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;var y=r*.299+g*.587+b*.114;var i=0,q=0;if(r!==g||g!==b){i=r*.596+g*-.275+b*-.321;q=r*.212+g*-.528+b*.311}return[y,i,q]}},{"./rgb":26}],39:[function(require,module,exports){"use strict";var rgb=require("./rgb");var ypbpr=module.exports={name:"ypbpr",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","Pb","Pr"],alias:["YPbPr","Y/PB/PR","YPRPB","PRPBY","PBPRY","Y/Pb/Pr","YPrPb","PrPbY","PbPrY","Y/R-Y/B-Y","Y(R-Y)(B-Y)","R-Y","B-Y"]};ypbpr.rgb=function(ypbpr,kb,kr){var y=ypbpr[0],pb=ypbpr[1],pr=ypbpr[2];kb=kb||.0722;kr=kr||.2126;var r=y+2*pr*(1-kr);var b=y+2*pb*(1-kb);var g=(y-kr*r-kb*b)/(1-kr-kb);return[r*255,g*255,b*255]};rgb.ypbpr=function(rgb,kb,kr){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;kb=kb||.0722;kr=kr||.2126;var y=kr*r+(1-kr-kb)*g+kb*b;var pb=.5*(b-y)/(1-kb);var pr=.5*(r-y)/(1-kr);return[y,pb,pr]}},{"./rgb":26}],40:[function(require,module,exports){"use strict";var rgb=require("./rgb");var yuv=module.exports={name:"yuv",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","U","V"],alias:["YUV","EBU"]};yuv.rgb=function(yuv){var y=yuv[0],u=yuv[1],v=yuv[2],r,g,b;r=y*1+u*0+v*1.13983;g=y*1+u*-.39465+v*-.5806;b=y*1+u*2.02311+v*0;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255]};rgb.yuv=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;var y=r*.299+g*.587+b*.114;var u=r*-.14713+g*-.28886+b*.436;var v=r*.615+g*-.51499+b*-.10001;return[y,u,v]}},{"./rgb":26}]},{},[14])(14)});